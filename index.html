<!doctype html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Foodie!</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <link rel="stylesheet" href="css/style.css">
    <link rel="stylesheet" href="css/responsive-style.css">
    <script src="js/userEmail.js"></script>
    <style>
          .card {
            transition: transform 0.3s ease-in-out; 
        }
        .card:hover {
            transform: translateY(-10px); 
        }
    </style>
</head>
<body>
    <header>
        <nav class="navbar navbar-expand-lg navigation-wrap">
            <div class="container">
                <a class="navbar-brand" href="#"><img src="images/logo.png" alt="logo"></a>
                <button class="navbar-toggler" type="button" data-bs-toggle="collapse"
                    data-bs-target="#navbarSupportedContent" aria-controls="navbarSupportedContent"
                    aria-expanded="false" aria-label="Toggle navigation">
                    <i class="fas fa-bars navbar-toggle-icon"></i>
                </button>
                <div class="collapse navbar-collapse" id="navbarSupportedContent">
                    <ul class="navbar-nav ms-auto mb-2 mb-lg-0">
                        <li class="nav-item">
                            <a class="nav-link active" aria-current="page" href="#home">Home</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="#about">About Us</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="/search.html">View Restaurants</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="#explore-food">Top</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="/AboutUs.html">Contact Us</a>
                        </li>
                    </ul>
                </div>
                <div class="d-flex  order-lg-0">
                    <button type="button" class="btn btn-primary" id="openModalButton" style=" border: #A82C48; background-color: #A82C48; color: white;">
                        Login 
                    </button>
                    <div style="margin-left: 10px; margin-right: 10px;"></div> 
                    <button type="button" class="btn btn-primary" id="openModalButton2" style=" border: #A82C48; background-color: #A82C48; color: white;">
                        Register
                    </button>
                    <li style="list-style-type: none;">
                      <a class="nav-link" id="userEmail" style="display: none; border: #A82C48; background-color: #A82C48; color: white;"></a>
                    </li>
                    <div style="margin-left: 10px; margin-right: 10px;"></div> 
            
                    <button id="logoutButton" onclick="logout()" class="btn btn-primary" style="display: none; border: #A82C48; background-color: #A82C48; color: white;" >Exit</button>
            
                  </div>
            </div>
        </nav>
    </header>
    <section id="home">
        <div class="container-fluid px-0 top-banner">
            <div class="container">
                <div class="row">
                    <div class="col-lg-5 col-md-6">
                        <h1>Explore the tastes of the city: Our website is your guide to restaurants.</h1></div>
                    <div class="mt-4">
                        <button class="white-btn ms-lg-4 mt-lg-0 mt-4"><a href="search.html" style="text-decoration: none; color: black;">View restaurants </a> <i
                                class="fa-solid fa-angle-right"></i></button>
                    </div>
                </div>
            </div>
        </div>
    </section>
    <section id="counter">
        <section class="counter-section">
        </section>
    </section>
    <section id="about">
        <div class="about-section wrapper">
            <div class="container">
                <div class="row align-items-center">
                    <div class="col-lg-7 col-md-12 mb-lg-0">
                        <div class="card border-0">
                            <img src="images/img/Meat_products_Tomatoes_489993_3840x2400.jpg" alt="img-fluid">
                        </div>
                    </div>
                    <div class="col-lg-5 col-md-12 text-sec">
                        <h2>Your reliable guide in the world of gastronomic discoveries and culinary pleasures. </h2>
                        <p>our website provides a wider selection of restaurants and integration with the official resources of establishments. Our team is constantly working on updating the information so that you can be sure that the data is up to date.</p>
                        <button class="main-btn mt-4"><a href="AboutUs.html"  style="text-decoration: none; color: white;">Learn More<a></button>
                    </div>
                </div>
            </div>
        </div>
    </section>
    <section id="story">
        <div class="story-section">
            <div class="conatiner">
                <div class="row">
                    <div class="col-sm-12">
                        <div class="text-content">
                            <h2>Start your culinary journey with our restaurant search.</h2>
                            <p> We are sure that you will discover many delicious options and create an unforgettable experience</p>
                            <button class="main-btn mt-3"><a href="search.html" style="text-decoration: none; color: white;">Search!</a></button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>
    <div id="explore-food">
        <div class="explore-food wrapper">
            <div class="container">
                <div class="row">
                    <div class="col-sm-12">
                        <div class="text-content text-center">
                            <h2>Top restaurants of this month</h2>
                        </div>
                    </div>
                </div>
                <div class="row pt-5">
                    <div class="col-lg-4 col-md-6 mb-lg-0 mb-5">
                        <div class="card">
                            <img src="images/img/images.png" alt="3" class="img-fluid">
                            <div class="pt-3">
                                <h4>LavashFood</h4>
                                <p>Time: 08:00 00:00</p>
                                <span>5 stars <del>4.8 stars</del></span>
                                <button class="main-btn mt-4">Watch</button>
                            </div>
                        </div>

                    </div>
                    <div class="col-lg-4 col-md-6 mb-lg-0 mb-5">
                        <div class="card">
                            <img src="images/img/nhd0wx6cyw3tgkhtqsxtjloczvxpwepr.jpg" alt="3" class="img-fluid">
                            <div class="pt-3">
                                <h4>Salam Bro</h4>
                                <p>Time: 09:00 22:00</p>
                                <span>4.8 stars <del>4.9 stars</del></span>
                                <button class="main-btn mt-4">Watch</button>
                            </div>
                        </div>

                    </div>
                    <div class="col-lg-4 col-md-6 mb-lg-0 mb-5">
                        <div class="card">
                            <img src="images/img/item_23794.jpg" alt="3" class="img-fluid">
                            <div class="pt-3">
                                <h4>Maki Maki</h4>
                                <p>Time: 06:00 23:00</p>
                                <span>4.7 stars<del>4.5 stars</del></span>
                                <button class="main-btn mt-4">Watch</button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <script>
        const cards = document.querySelectorAll('.card');
        cards.forEach(card => {
        card.addEventListener('mouseenter', () => {
          card.style.transform = 'translateY(-10px)';
        });
      
        card.addEventListener('mouseleave', () => {
          card.style.transform = 'translateY(0)';
        });
      });
      </script>
    <div id="testimonial">
        <div class="wrapper testimonial-section">
            <div class="container text-center">
                <div class="text-center pb-4">
                    <h2>Contact us</h2>
                </div>
                <div class="row">
                    <form action="form.php" method="POST">
                        <div class="form-group">
                            <label for="name" style="color: #fff;">Name:</label>
                            <input type="text" id="name" name="name" class="form-control" placeholder="Enter your name" required>
                        </div>
                        <br>
                        <div class="form-group">
                            <label for="question" style="color: #fff;">Question:</label>
                            <textarea id="question" name="question" class="form-control" placeholder="Let us know your question" required></textarea>
                        </div>
                        <br>
                        <div class="form-group">
                            <label for="phone" style="color: #fff;">Phone Number:</label>
                            <input type="tel" id="phone" name="phone" class="form-control" placeholder="Enter your phone number" required>
                        </div>
                        <br>
                        <button type="submit" class="btn btn-primary">Submit</button>
                    </form>
                </div>
            </div>
        </div>
    </div>

<!-- Login -->
<div id="loginModal" class="modal">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title">Log In</h5>
                <button type="button" class="close" id="closeModalButton">&times;</button>
            </div>
            <div class="modal-body">
                <form id="loginForm">
                    <div class="form-group">
                        <label for="email">Email</label>
                        <input type="email" class="form-control" id="email" placeholder="Enter your email.">
                    </div>
                    <div class="form-group">
                        <label for="password">Password</label>
                        <input type="password" class="form-control" id="password" placeholder="Enter your password.">
                    </div>
                    <br>
                    <button type="submit" class="btn btn-primary" style=" border: #A82C48; background-color: #A82C48; color: white;" >Log In</button>
                </form>
            </div>
        </div>
    </div>
</div>

  <script>
  document.addEventListener("DOMContentLoaded", function () {
    var openModalButton = document.getElementById("openModalButton");
    var closeModalButton = document.getElementById("closeModalButton");
    var loginModal = document.getElementById("loginModal");
    var loginForm = document.getElementById("loginForm");
  
    openModalButton.addEventListener("click", function () {
        loginModal.style.display = "block";
    });
  
    closeModalButton.addEventListener("click", function () {
        loginModal.style.display = "none";
    });
  
    window.addEventListener("click", function (event) {
        if (event.target === loginModal) {
            loginModal.style.display = "none";
        }
    });
  
    loginForm.addEventListener("submit", function (event) {
        event.preventDefault();
        const email = document.getElementById("email").value;
        const password = document.getElementById("password").value;
  
        const userData = {
            email: email,
            password: password,
        };
  
        console.log("test message");
        console.log(email, password);
  
        fetch("http://localhost:8080/api/login", {
            method: "POST",
            headers: {
                "Content-Type": "application/json",
            },
            body: JSON.stringify(userData),
        })
        .then((response) => {
            if (response.ok) {
              localStorage.setItem("userEmail", email);
              document.getElementById("userEmail").textContent = email;
              document.getElementById("userEmail").style.display = "block";
              document.getElementById("openModalButton").style.display = "none";
              document.getElementById("openModalButton2").style.display = "none";
              document.getElementById("logoutButton").style.display = "block";
              loginModal.style.display = "none";
              return response.text();
            } else {
                alert("You wrote wrong. Check your credentials.");
                return;
            }
        })
        .then((data) => {
            console.log(data);
        })
        .catch((error) => {
            console.error("Произошла ошибка:", error);
        }); 
    });
  });
  </script>
  
  <div id="signInModal" class="modal">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title">Sign Up</h5>
                <button type="button" class="close" id="closeModalButton2">&times;</button>
            </div>
            <div class="modal-body">
                <form>
                    <div class="form-group">
                        <label for="email">Email</label>
                        <input type="email" class="form-control" id="email2" placeholder="Enter your email.">
                    </div>
                    <div class="form-group">
                        <label for="fullname">Full Name</label>
                        <input type="text" class="form-control" id="fullname2" placeholder="Enter your full name.">
                    </div>
                    <div class="form-group">
                        <label for="phoneNumber">Phone Number</label>
                        <input type="text" class="form-control" id="phoneNumber2" placeholder="Enter your phone number.">
                    </div>
                    <div class="form-group">
                        <label for="password">Password</label>
                        <input type="password" class="form-control" id="password2" placeholder="Enter your password.">
                    </div><br>
                    <button type="submit" class="btn btn-primary" style="border: #A82C48; background-color: #A82C48; color: white;">Sign Up</button>
                </form>
                
            </div>
        </div>
    </div>
</div>

  <script>
  document.addEventListener("DOMContentLoaded", function () {
    var openModalButton = document.getElementById("openModalButton2");
    var closeModalButton = document.getElementById("closeModalButton2");
    var signInModal = document.getElementById("signInModal");
    var registerForm = document.querySelector("#signInModal form");
  
    openModalButton.addEventListener("click", function () {
      signInModal.style.display = "block";
    });
  
    closeModalButton.addEventListener("click", function () {
      signInModal.style.display = "none";
    });
  
    window.addEventListener("click", function (event){
        if (event.target === signInModal) {
          signInModal.style.display = "none";
        }
    });
  
    registerForm.addEventListener("submit", function (event) {      event.preventDefault();
        const email = document.getElementById("email2").value;
        const fullname = document.getElementById("fullname2").value;
        const phoneNumber = document.getElementById("phoneNumber2").value;
        const password = document.getElementById("password2").value;
  
        const userData = {
            email: email,
            fullname: fullname,
            phoneNumber: phoneNumber,
            password: password,
        };
        fetch("http://localhost:8080/api/register", {
            method: "POST",
            headers: {
                "Content-Type": "application/json",
            },
            body: JSON.stringify(userData),
        })
        .then((response) => {
            if (response.ok) {
                return response.text();
            } else {
                throw new Error("Ошибка HTTP: " + response.status);
            }
        })
        .then((data) => {
            console.log(data);
        })
        .catch((error) => {
            console.error("Произошла ошибка:", error);
        });
        localStorage.setItem("userEmail", email);
        document.getElementById("userEmail").textContent = email;
        document.getElementById("userEmail").style.display = "block";
        document.getElementById("openModalButton").style.display = "none";
        document.getElementById("openModalButton2").style.display = "none";
        document.getElementById("logoutButton").style.display = "block";
  
        loginModal.style.display = "none";
    });
  });
  </script>
    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.9.2/dist/umd/popper.min.js"
        integrity="sha384-IQsoLXl5PILFhosVNubq5LC7Qb9DXgDA9i+tQ8Zj3iwWAwPtgFTxbJ8NT4GN1R8p"
        crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.min.js"
        integrity="sha384-cVKIPhGWiC2Al4u+LWgxfKTRIcfu0JTxR+EQDz/bgldoEyl4H0zUF0QKbrJ0EcQF"
        crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/js/fontawesome.min.js"></script>
    <script src="js/main.js"></script>
</body>

</html>
