<!doctype html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Foodie!</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <link rel="stylesheet" href="css/style.css">
    <link rel="stylesheet" href="css/responsive-style.css">
    <script src="js/userEmail.js"></script>
</head>
<body>
    <header>
        <nav class="navbar navbar-expand-lg navigation-wrap">
            <div class="container">
                <a class="navbar-brand" href="#"><img src="images/logo.png" alt="logo"></a>
                <button class="navbar-toggler" type="button" data-bs-toggle="collapse"
                    data-bs-target="#navbarSupportedContent" aria-controls="navbarSupportedContent"
                    aria-expanded="false" aria-label="Toggle navigation">
                    <i class="fas fa-bars navbar-toggle-icon"></i>
                </button>
                <div class="collapse navbar-collapse" id="navbarSupportedContent">
                    <ul class="navbar-nav ms-auto mb-2 mb-lg-0">
                        <li class="nav-item">
                            <a class="nav-link active" aria-current="page" href="#home">Home</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="/index.html">About Us</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="/search.html">View Restaurants</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="/index.html">Top</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="/AboutUs.html">Contact Us</a>
                        </li>
                    </ul>
                </div>
                <div class="d-flex  order-lg-0">
                    <button type="button" class="btn btn-primary" id="openModalButton" style=" border: #A82C48; background-color: #A82C48; color: white;">
                        Login 
                    </button>
                    <div style="margin-left: 10px; margin-right: 10px;"></div> 
                    <button type="button" class="btn btn-primary" id="openModalButton2" style=" border: #A82C48; background-color: #A82C48; color: white;">
                        Register
                    </button>
                    <li style="list-style-type: none;">
                      <a class="nav-link" id="userEmail" style="display: none; border: #A82C48; background-color: #A82C48; color: white;"></a>
                    </li>
                    <div style="margin-left: 10px; margin-right: 10px;"></div> 
            
                    <button id="logoutButton" onclick="logout()" class="btn btn-primary"  style="display: none; border: #A82C48; background-color: #A82C48; color: white;">Exit</button>
            
                  </div>
            </div>
        </nav>
    </header>
    <br><br>
    <section id="about">
        <div class="about-section wrapper">
            <div class="container">
                <div class="row align-items-center">
                    <div class="col-lg-12 col-md-12 text-center"> 
                        <h2>Your reliable guide in the world of gastronomic discoveries and culinary pleasures.</h2>
                        <p>Our website provides a wider selection of restaurants and integration with the official resources of establishments. Our team is constantly working on updating the information so that you can be sure that the data is up to date.</p>
                    </div>
                </div>
            </div>
            <br><br><br><br>
            <div class="container">
                <div class="row align-items-center">
                    <div class="col-lg-7 col-md-12 mb-lg-0">
                        <div class="card border-0">
                            <img src="images/img/2.jpg" alt="img-fluid">
                        </div>
                    </div>
                    <div class="col-lg-5 col-md-12 text-sec">
                        <h2>What we do?</h2>
                        <p>We collect and analyze data about restaurants, cafes, bars and other establishments to provide you with maximum information. We highlight the strengths and weaknesses of each place, summarize the reviews of visitors and provide you with ratings, recommendations and detailed descriptions.</p>
                    </div>
                </div>
            </div>
            <br><br><br><br>
            <div class="container">
                <div class="row align-items-center">
                    <div class="col-lg-5 col-md-12 text-sec">
                        <h2>Our values?</h2>
                        <p>
                            <ul>
                                <li><span style="font-weight: bold;">Transparency:</span> We believe in transparency and honesty. We provide objective data and never distort information.</li>
                                <li><span style="font-weight: bold;">Convenience: </span>We strive to make the process of choosing a place to visit as convenient as possible for you.</li>
                                <li><span style="font-weight: bold;">Quality: </span>We are focused on providing only high-quality and up-to-date information.</li>
                            </ul>
                        </p>
                    </div>
                    <div class="col-lg-7 col-md-12 mb-lg-0">
                        <div class="card border-0">
                            <img src="images/img/3.jpg" alt="img-fluid">
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>
    <div id="testimonial">
        <div class="wrapper testimonial-section">
            <div class="container text-center">
                <div class="text-center pb-4">
                    <h2>Our team</h2>
                </div>
                <div class="row">
                    <div class="col-sm-12 col-lg-10 offset-lg-1">
                        <div id="carouselExampleCaptions" class="carousel slide" data-bs-ride="carousel">
                            <div class="carousel-indicators">
                                <button type="button" data-bs-target="#carouselExampleCaptions" data-bs-slide-to="0"
                                    class="active" aria-current="true" aria-label="Slide 1"></button>
                                <button type="button" data-bs-target="#carouselExampleCaptions" data-bs-slide-to="1"
                                    aria-label="Slide 2"></button>
                                <button type="button" data-bs-target="#carouselExampleCaptions" data-bs-slide-to="2"
                                    aria-label="Slide 3"></button>
                                <button type="button" data-bs-target="#carouselExampleCaptions" data-bs-slide-to="3"
                                    aria-label="Slide 4"></button>
                            </div>
                            <div class="carousel-inner">
                                <div class="carousel-item active">
                                    <div class="carousel-caption">
                                        <img src="images/review/photo_2023-11-06_00-40-59.jpg" >
                                        <p>Our dreams are our goals, our leadership is our success</p>
                                        <h5>Telgarina Kuralay</h5>
                                    </div>
                                </div>
                                <div class="carousel-item">
                                    <div class="carousel-caption">
                                        <img src="images/review/A.jpg" >
                                        <p>Turn ideas into products that change the world.</p>
                                        <h5>Alpysbaeva Aiymgul</h5>
                                    </div>
                                </div>
                                <div class="carousel-item">
                                    <div class="carousel-caption">
                                        <img src="images/review/nurlan.jpg" >
                                        <p>Listen to customers, build long-term relationships.</p>
                                        <h5>Kurmetov Nurlan</h5>
                                    </div>
                                </div>
                                <div class="carousel-item ">
                                    <div class="carousel-caption">
                                        <img src="images/review/S.jpg" >
                                        <p>Together we are stronger, together we are success.</p>
                                        <h5>Tazhibayev Sultanbay</h5>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    
<!-- Login -->
<div id="loginModal" class="modal">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title">Log In</h5>
                <button type="button" class="close" id="closeModalButton">&times;</button>
            </div>
            <div class="modal-body">
                <form id="loginForm">
                    <div class="form-group">
                        <label for="email">Email</label>
                        <input type="email" class="form-control" id="email" placeholder="Enter your email.">
                    </div>
                    <div class="form-group">
                        <label for="password">Password</label>
                        <input type="password" class="form-control" id="password" placeholder="Enter your password.">
                    </div>
                    <br>
                    <button type="submit" class="btn btn-primary" style=" border: #A82C48; background-color: #A82C48; color: white;" >Log In</button>
                </form>
            </div>
        </div>
    </div>
</div>

  <script>
  document.addEventListener("DOMContentLoaded", function () {
    var openModalButton = document.getElementById("openModalButton");
    var closeModalButton = document.getElementById("closeModalButton");
    var loginModal = document.getElementById("loginModal");
    var loginForm = document.getElementById("loginForm");
  
    openModalButton.addEventListener("click", function () {
        loginModal.style.display = "block";
    });
  
    closeModalButton.addEventListener("click", function () {
        loginModal.style.display = "none";
    });
  
    window.addEventListener("click", function (event) {
        if (event.target === loginModal) {
            loginModal.style.display = "none";
        }
    });
  
    loginForm.addEventListener("submit", function (event) {
        event.preventDefault();
        const email = document.getElementById("email").value;
        const password = document.getElementById("password").value;
  
        const userData = {
            email: email,
            password: password,
        };
  
        console.log("test message");
        console.log(email, password);
  
        fetch("http://localhost:8080/api/login", {
            method: "POST",
            headers: {
                "Content-Type": "application/json",
            },
            body: JSON.stringify(userData),
        })
        .then((response) => {
            if (response.ok) {
              localStorage.setItem("userEmail", email);
              document.getElementById("userEmail").textContent = email;
              document.getElementById("userEmail").style.display = "block";
              document.getElementById("openModalButton").style.display = "none";
              document.getElementById("openModalButton2").style.display = "none";
              document.getElementById("logoutButton").style.display = "block";
              loginModal.style.display = "none";
              return response.text();
            } else {
                alert("You wrote wrong. Check your credentials.");
                return;
            }
        })
        .then((data) => {
            console.log(data);
        })
        .catch((error) => {
            console.error("Произошла ошибка:", error);
        }); 
    });
  });
  </script>
  
  <div id="signInModal" class="modal">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title">Sign Up</h5>
                <button type="button" class="close" id="closeModalButton2">&times;</button>
            </div>
            <div class="modal-body">
                <form>
                    <div class="form-group">
                        <label for="email">Email</label>
                        <input type="email" class="form-control" id="email2" placeholder="Enter your email.">
                    </div>
                    <div class="form-group">
                        <label for="fullname">Full Name</label>
                        <input type="text" class="form-control" id="fullname2" placeholder="Enter your full name.">
                    </div>
                    <div class="form-group">
                        <label for="phoneNumber">Phone Number</label>
                        <input type="text" class="form-control" id="phoneNumber2" placeholder="Enter your phone number.">
                    </div>
                    <div class="form-group">
                        <label for="password">Password</label>
                        <input type="password" class="form-control" id="password2" placeholder="Enter your password.">
                    </div><br>
                    <button type="submit" class="btn btn-primary" style="border: #A82C48; background-color: #A82C48; color: white;">Sign Up</button>
                </form>
                
            </div>
        </div>
    </div>
</div>

  <script>
  document.addEventListener("DOMContentLoaded", function () {
    var openModalButton = document.getElementById("openModalButton2");
    var closeModalButton = document.getElementById("closeModalButton2");
    var signInModal = document.getElementById("signInModal");
    var registerForm = document.querySelector("#signInModal form");
  
    openModalButton.addEventListener("click", function () {
      signInModal.style.display = "block";
    });
  
    closeModalButton.addEventListener("click", function () {
      signInModal.style.display = "none";
    });
  
    window.addEventListener("click", function (event){
        if (event.target === signInModal) {
          signInModal.style.display = "none";
        }
    });
  
    registerForm.addEventListener("submit", function (event) {      event.preventDefault();
        const email = document.getElementById("email2").value;
        const fullname = document.getElementById("fullname2").value;
        const phoneNumber = document.getElementById("phoneNumber2").value;
        const password = document.getElementById("password2").value;
  
        const userData = {
            email: email,
            fullname: fullname,
            phoneNumber: phoneNumber,
            password: password,
        };
        fetch("http://localhost:8080/api/register", {
            method: "POST",
            headers: {
                "Content-Type": "application/json",
            },
            body: JSON.stringify(userData),
        })
        .then((response) => {
            if (response.ok) {
                return response.text();
            } else {
                throw new Error("Ошибка HTTP: " + response.status);
            }
        })
        .then((data) => {
            console.log(data);
        })
        .catch((error) => {
            console.error("Произошла ошибка:", error);
        });
        localStorage.setItem("userEmail", email);
        document.getElementById("userEmail").textContent = email;
        document.getElementById("userEmail").style.display = "block";
        document.getElementById("openModalButton").style.display = "none";
        document.getElementById("openModalButton2").style.display = "none";
        document.getElementById("logoutButton").style.display = "block";
  
        loginModal.style.display = "none";
    });
  });
  </script>
    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.9.2/dist/umd/popper.min.js"
        integrity="sha384-IQsoLXl5PILFhosVNubq5LC7Qb9DXgDA9i+tQ8Zj3iwWAwPtgFTxbJ8NT4GN1R8p"
        crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.min.js"
        integrity="sha384-cVKIPhGWiC2Al4u+LWgxfKTRIcfu0JTxR+EQDz/bgldoEyl4H0zUF0QKbrJ0EcQF"
        crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/js/fontawesome.min.js"></script>
    <script src="js/main.js"></script>
</body>

</html>
